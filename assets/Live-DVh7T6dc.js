import{e as r,f as y,r as s,j as e,H as B,M as L,N as _,F as S,h as E,i as I,l as O}from"./index-Bh-YatsM.js";import{r as g,g as p,b as G,s as z}from"./neobux-CjsG5X-H.js";import{i as D}from"./business-products-cash-user-man-message-49-AcVi1JwI.js";import{b as W}from"./blur-CTKUrzi2.js";async function $(){return await r.get("/api/live/status",{withCredentials:!0})}async function P(){return await r.get("/api/live/check",{withCredentials:!0})}async function T(){return await r.get("/api/live/info",{withCredentials:!0})}const Y="data:image/svg+xml,%3csvg%20width='60'%20height='60'%20viewBox='0%200%2060%2060'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20filter='url(%23filter0_b_581_10997)'%3e%3cpath%20opacity='0.1'%20d='M1.52289%2017.8811L18.5461%201.40699C19.4786%200.504539%2020.7255%200%2022.0232%200H55C57.7614%200%2060%202.23858%2060%205V38.5259C60%2039.8804%2059.4505%2041.177%2058.4771%2042.1189L41.4539%2058.593C40.5214%2059.4955%2039.2745%2060%2037.9768%2060H5C2.23857%2060%200%2057.7614%200%2055V21.4741C0%2020.1196%200.549541%2018.823%201.52289%2017.8811Z'%20fill='%23FAFAFA'/%3e%3crect%20x='16'%20y='19'%20width='29'%20height='4'%20fill='%23FAFAFA'/%3e%3crect%20x='20'%20y='28'%20width='25'%20height='4'%20fill='%23FAFAFA'/%3e%3crect%20x='16'%20y='37'%20width='29'%20height='4'%20fill='%23FAFAFA'/%3e%3c/g%3e%3cdefs%3e%3cfilter%20id='filter0_b_581_10997'%20x='-20'%20y='-20'%20width='100'%20height='100'%20filterUnits='userSpaceOnUse'%20color-interpolation-filters='sRGB'%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'/%3e%3cfeGaussianBlur%20in='BackgroundImageFix'%20stdDeviation='10'/%3e%3cfeComposite%20in2='SourceAlpha'%20operator='in'%20result='effect1_backgroundBlur_581_10997'/%3e%3cfeBlend%20mode='normal'%20in='SourceGraphic'%20in2='effect1_backgroundBlur_581_10997'%20result='shape'/%3e%3c/filter%3e%3c/defs%3e%3c/svg%3e",v="data:image/svg+xml,%3csvg%20width='32'%20height='33'%20viewBox='0%200%2032%2033'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='16'%20cy='16.5'%20r='16'%20fill='%23FAFAFA'/%3e%3c/svg%3e",R="data:image/svg+xml,%3csvg%20width='8'%20height='8'%20viewBox='0%200%208%208'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='4'%20cy='4'%20r='4'%20fill='%23FF3055'/%3e%3c/svg%3e",U="data:image/svg+xml,%3csvg%20width='65'%20height='64'%20viewBox='0%200%2065%2064'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M59.9306%2015.2383H56.8906V27.4183H59.9306V15.2383Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M56.8916%2027.4219H53.8516V30.4819H56.8916V27.4219Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M56.8916%2012.1992H53.8516V15.2392H56.8916V12.1992Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M50.7891%2039.6205H56.8891V42.6605H50.7891V51.8205H56.8891V54.8605H50.7891V60.9605H53.8491V57.9005H59.9291V48.7605H53.8491V45.7205H59.9291V36.5805H53.8491V30.4805H50.7891V39.6205Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M50.7914%2060.9609H44.6914V64.0009H50.7914V60.9609Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M41.6484%209.14156V12.2016H47.7484V15.2416H41.6484V24.3816H53.8484V15.2416H50.7884V12.2016H53.8484V9.14156H50.7884V6.10156H47.7484V9.14156H41.6484ZM47.7484%2021.3416H44.6984V18.2816H47.7584L47.7484%2021.3416Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M47.7514%203.03906H44.6914V6.09906H47.7514V3.03906Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M44.6894%2030.4819H41.6494V27.4219H38.6094V33.5219H41.6494V60.9619H44.6894V30.4819Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M41.6494%2012.1992H38.6094V15.2392H41.6494V12.1992Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M32.5117%2018.2783V24.3783H35.5517V27.4183H38.6117V15.2383H35.5517V18.2783H32.5117Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M38.6092%2033.5195H29.4492V36.5795H38.6092V33.5195Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M35.5492%2012.1992H29.4492V15.2392H35.5492V12.1992Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M44.6892%200H29.4492V3.04H44.6892V0Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M32.5092%2045.7188H29.4492V48.7587H32.5092V45.7188Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M29.4502%2048.7617H26.4102V51.8217H29.4502V48.7617Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M29.4502%2042.6602H26.4102V45.7202H29.4502V42.6602Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M29.4502%2036.5781H26.4102V39.6181H29.4502V36.5781Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M29.4502%2015.2383H26.4102V18.2783H29.4502V15.2383Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M29.4502%203.03906H26.4102V6.09906H29.4502V3.03906Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M26.4111%2051.8203H23.3711V54.8603H26.4111V51.8203Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M26.4111%2039.6211H23.3711V42.6611H26.4111V39.6211Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M26.4111%2018.2812H23.3711V30.4813H26.4111V18.2812Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M26.4111%206.10156H23.3711V15.2416H26.4111V6.10156Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M23.3686%2048.7617H20.3086V51.8217H23.3686V48.7617Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M23.3686%2030.4805H20.3086V33.5205H23.3686V30.4805Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M20.3095%2045.7188H17.2695V48.7587H20.3095V45.7188Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M20.3095%2033.5195H17.2695V36.5795H20.3095V33.5195Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M17.2705%2048.7617H14.2305V51.8217H17.2705V48.7617Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M17.2705%2036.5781H14.2305V39.6181H17.2705V36.5781Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M14.2319%2051.8203H11.1719V54.8603H14.2319V51.8203Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M14.2319%2039.6211H11.1719V42.6611H14.2319V39.6211Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M11.1689%2048.7617H8.12891V51.8217H11.1689V48.7617Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M11.1689%2042.6602H8.12891V45.7202H11.1689V42.6602Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M8.13031%2045.7188H5.07031V48.7587H8.13031V45.7188Z'%20fill='%23FAFAFA'/%3e%3c/svg%3e",q="/neofilms-frontend/assets/image%2066-DV5KNSS0.jpg",s2=()=>{const d=window.innerWidth<=430,n=y(),[K,j]=s.useState(n.pathname),[h,b]=s.useState(!1),[J,w]=s.useState(!1),[o,F]=s.useState(!1),[M,N]=s.useState(null),[A,Z]=s.useState(null),[f,H]=s.useState(!1),[u,k]=s.useState("0.0"),m=()=>{b(a=>!a)},V=async()=>{const a=await p(),t=(await I(a)).data.data,l=await z(t);await O(a,l),console.log(a,"acc",t,"data"),x(),i()},i=async()=>{H(!0);const a=await p(),t=(await G(a)).data.balance;k(t),H(!1)};s.useEffect(()=>{j(n.pathname)},[n.pathname]);const x=()=>{$().then(a=>{console.log("live status",a.data.is_active,a.data.access_for_nft),w(a.data.is_active),E().then(t=>{F(!0),console.log("auth check",t.data),F(t.data),P().then(l=>{console.log("live check",l.data),N(l.data),T().then(c=>{console.log("live info:",c.data),Z(c.data)}).catch(c=>{console.error("Error fetching live info",c)})}).catch(l=>{console.error("Error fetching live status",l)})}).catch(t=>{console.error("Error fetching auth status",t)})}).catch(a=>{console.error("Error fetching live status",a)})};s.useEffect(()=>{i(),x()},[]);const C=()=>o?M?A?e.jsx(e.Fragment,{children:A.map(a=>e.jsx("iframe",{width:"100%",height:"100%",src:a.url,title:"NEO Live Stream",frameBorder:"0",className:"video-frame",referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0,children:e.jsxs("div",{className:"live-mark",children:["Live",e.jsx("img",{alt:"",src:R})]})}))}):null:e.jsx("div",{className:"live-stream-box",children:e.jsxs("div",{className:"have-access",children:[e.jsx("img",{alt:"",src:D}),e.jsx("h3",{children:"Looks Like You Have No NeoFilms NFTs Acquired"}),e.jsx("p",{children:"Purchase Any NeoFilms NFT to Gain Access to NeoFilms Live"})]})}):e.jsx("div",{className:"live-stream-box",children:e.jsxs("div",{className:"have_not-access",children:[e.jsx("img",{alt:"",src:U}),e.jsx("h3",{children:"NeoFilms Live is Available Only for Our NFTs Holders"}),e.jsx("p",{children:"Please authorize with WalletConnect to gain access"})]})});return e.jsxs("div",{className:"live-wrapper",children:[e.jsx(W.LazyLoadImage,{src:q,alt:"Background",effect:"blur"}),e.jsxs("div",{className:"inner-content-live",children:[e.jsxs("div",{className:"live-inner-content",children:[e.jsx(B,{}),h&&e.jsx(L,{onClose:m,isOpen:h})]}),d?e.jsxs("div",{className:"mob-title-box",children:[e.jsxs("div",{className:"balance-text-mob",children:[e.jsx("span",{children:"Your Balance:"}),e.jsxs("div",{className:"balance-count",children:[u," NEOBux"]}),e.jsx("button",{className:"reload-btn",onClick:i,children:e.jsx("img",{src:g,alt:"refresh-balance",className:`refresh-balance ${f?"spinning":""}`})})]}),e.jsxs("div",{className:"live-title",children:[e.jsx("h2",{children:"Neofilms"}),e.jsxs("h2",{children:["live ",e.jsx("img",{className:"elipse",alt:"",src:v})]})]}),e.jsx("button",{className:"button-balance",onClick:V,children:e.jsx("span",{children:o?"Wallet connected":"Connect your wallet"})})]}):e.jsxs("div",{className:"live-title-box",children:[e.jsxs("div",{className:"live-title",children:[e.jsx("h2",{children:"Neofilms"}),e.jsxs("h2",{children:["live ",e.jsx("img",{className:"elipse",alt:"",src:v})]})]}),e.jsx("div",{className:"title-box",children:e.jsxs("div",{className:"balance-box",children:[e.jsx("button",{className:"button-balance",onClick:V,children:e.jsx("span",{children:o?"Wallet connected":"Connect your wallet"})}),e.jsxs("div",{className:"balance-text",children:[e.jsx("span",{children:"Your Balance:"}),e.jsxs("div",{className:"balance-count",children:[u," NEOBux"]}),e.jsx("button",{className:"reload-btn",onClick:i,children:e.jsx("img",{src:g,alt:"refresh-balance",className:`refresh-balance ${f?"spinning":""}`})})]})]})})]}),C()]}),d?e.jsx("img",{src:Y,alt:"mob-menu-live",className:"mob-menu-live",onClick:m}):e.jsx(_,{}),e.jsx(S,{})]})};export{s2 as default};
