import{e as w,k as h,r,u as N,s as j,j as e,H as b,m as u,N as g,M as f,F as v}from"./index-Bh-YatsM.js";import{b as y}from"./ecology-global-warming-globe-fire-31-Bstm2w9A.js";import{B as M}from"./Button-BYJJ-Mty.js";import{F as x}from"./FilledButton-DmN4EpZi.js";import{b as C}from"./footer-hp-placeholder-CztAhs1A.js";import{F as B}from"./Flex-qvIR2ubR.js";import{b as E}from"./blur-CTKUrzi2.js";import"./buttonSvg-BnbybrfL.js";import"./clipright-bxBpsLPv.js";const T="/neofilms-frontend/assets/image%2071-Cb5dwojr.jpg";async function D(){return await w.get("/api/pages/news")}const F=()=>{h("(max-width: 430px)");const[o,d]=r.useState([]),[c,m]=r.useState([]);N(),r.useEffect(()=>{i(),l()},[]);const i=async()=>{try{const t=(await j()).data.map(a=>({...a,updated_at:new Date(a.updated_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),description:a.description.length>250?`${a.description.slice(0,250)}...`:a.description}));d(t)}catch(s){console.error("Error fetching news cards:",s)}},l=async()=>{try{const t=(await D()).data.map(a=>({...a,date:new Date(a.updated_at||a.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),text:a.content.replace(/<\/?p>/g,"").length>250?`${a.content.replace(/<\/?p>/g,"").slice(0,250)}...`:a.content.replace(/<\/?p>/g,""),buttonText:"read more",background:"transparent",borderBottom:"1px solid rgba(250, 250, 250, 0.2)"}));m(t)}catch(s){console.error("Error fetching news cards:",s)}},n=o.slice(-2),p=s=>{window.open(s,"_blank")};return e.jsxs("div",{className:"cards-news-wrapper",children:[e.jsxs("div",{className:"news-container",children:[e.jsx(x,{btnText:"calendar"}),n.map((s,t)=>e.jsx("div",{className:"news_page-card",children:e.jsxs("div",{className:"other-cards",style:{borderBottom:"1px solid rgba(250, 250, 250, 0.2)"},children:[e.jsx("div",{className:"date-news-o-card",children:e.jsx("span",{className:"other-card-date",children:s.updated_at})}),e.jsx("h5",{className:"other-card-title",children:s.name}),e.jsx("p",{className:"other-card-text",children:s.description})]})},s._id))]}),c.map((s,t)=>e.jsxs("div",{className:"news_page-card",children:[s.buttonMainText&&e.jsx(x,{btnText:s.buttonMainText}),s.latestNews&&s.oldNews?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"news-card-title",style:{borderBottom:s.latestNews[0].borderBottom},children:[e.jsx("span",{className:"main-card-date",children:s.latestNews[0].date}),e.jsx("h6",{className:"main-card-title",children:s.latestNews[0].title}),e.jsx("p",{className:"main-card-text",children:s.latestNews[0].text})]}),e.jsxs("div",{className:"news-card-title",style:{borderBottom:s.latestNews[0].borderBottom},children:[e.jsx("span",{className:"main-card-date",children:s.oldNews[0].date}),e.jsx("h6",{className:"main-card-title",children:s.oldNews[0].title}),e.jsx("p",{className:"main-card-text",children:s.oldNews[0].text})]})]}):e.jsxs("div",{className:"other-cards",style:{borderBottom:s.borderBottom},children:[s.image?e.jsx("img",{src:s.image,alt:"card-news-image"}):null,e.jsxs("div",{className:"date-news-o-card",children:[e.jsx("span",{className:"other-card-news",children:"News"}),e.jsx("span",{className:"other-card-date",children:s.date})]}),e.jsx("h5",{className:"other-card-title",children:s.name}),e.jsx("p",{className:"other-card-text",children:s.text}),e.jsx(M,{isGlitch:!0,text:s.buttonText,onClick:()=>p(s.url)})]})]},t))]})},L="/neofilms-frontend/assets/image%2070-DF-b7r8q.jpg",z=()=>{const[o,d]=r.useState(!1),c=window.innerWidth<=430,[m,i]=r.useState(!0),l=()=>{d(n=>!n)};return r.useEffect(()=>{const n=setTimeout(()=>{i(!1)},1e3);return()=>clearTimeout(n)},[]),e.jsxs("div",{className:"news-wrapper",children:[e.jsxs(B,{flexDirection:"column",className:"news-header",children:[e.jsx(b,{}),!c&&e.jsx(E.LazyLoadImage,{src:L,wrapperClassName:"news-header-box",effect:"blur"}),e.jsxs("div",{className:"title-news-box",children:[e.jsxs("h2",{className:"news-title-text",children:["neo films ",e.jsx("br",{})," latest news"]}),e.jsx("img",{src:y,alt:"news-title-ball",className:"news-ball"})]})]}),e.jsx("div",{className:"news-page-cards-box",children:e.jsx(F,{})}),e.jsx("div",{className:"pagination-btn",children:e.jsx(x,{btnText:"older"})}),c?e.jsx("div",{className:"menu-mob-wrapper",children:e.jsx("img",{src:u,className:"sidebar-mob-btn",onClick:l,alt:"menuMob-hp"})}):e.jsx(g,{}),e.jsx("img",{src:T,alt:"lower-bg-news",className:"lower-bg-news"}),o&&e.jsx(f,{onClose:l,isOpen:o}),e.jsx("img",{src:C,alt:"lower-news-stroke",className:"lower-news-stroke"}),e.jsx(v,{})]})};export{z as default};
