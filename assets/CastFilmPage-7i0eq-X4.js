import{p as M,r as s,j as e,H as ee,m as se,N as te,M as ae,e as D,C,D as P,P as S,F as ie,E as le}from"./index-Dlgmt35C.js";import{B as v}from"./Button-nKtblC0U.js";/* empty css              */import{C as ne}from"./Modal-CMyj1VhT.js";import{d as ce}from"./thripleDots-BwcXsPjm.js";import{s as re}from"./success-CzBLhmEn.js";import{F as N}from"./Flex-CRWU_CHy.js";import{C as O}from"./ClipInput-ZwjNS2Ni.js";import"./buttonSvg-BnbybrfL.js";import"./clipright-bxBpsLPv.js";const oe="data:image/svg+xml,%3csvg%20width='40'%20height='40'%20viewBox='0%200%2040%2040'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M14.7368%200H25.2632V2.10526H14.7368V0Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M10.5263%204.21053V2.10526H14.7368V4.21053H10.5263Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M8.42105%206.31579V4.21053H10.5263V6.31579H8.42105Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M6.31579%208.42105V6.31579H8.42105V8.42105H6.31579Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M4.21053%2010.5263V8.42105H6.31579V10.5263H4.21053Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M2.10526%2014.7368V10.5263H4.21053V14.7368H2.10526Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M2.10526%2025.2632H0V14.7368H2.10526V25.2632Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M4.21053%2029.4737H2.10526V25.2632H4.21053V29.4737Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M6.31579%2031.5789H4.21053V29.4737H6.31579V31.5789Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M8.42105%2033.6842H6.31579V31.5789H8.42105V33.6842Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M10.5263%2035.7895H8.42105V33.6842H10.5263V35.7895Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M14.7368%2037.8947H10.5263V35.7895H14.7368V37.8947Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M25.2632%2037.8947V40H14.7368V37.8947H25.2632Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M29.4737%2035.7895V37.8947H25.2632V35.7895H29.4737Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M31.5789%2033.6842V35.7895H29.4737V33.6842H31.5789Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M33.6842%2031.5789V33.6842H31.5789V31.5789H33.6842Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M35.7895%2029.4737V31.5789H33.6842V29.4737H35.7895Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M37.8947%2025.2632V29.4737H35.7895V25.2632H37.8947Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M37.8947%2014.7368H40V25.2632H37.8947V14.7368Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M35.7895%2010.5263H37.8947V14.7368H35.7895V10.5263Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M33.6842%208.42105H35.7895V10.5263H33.6842V8.42105Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M31.5789%206.31579H33.6842V8.42105H31.5789V6.31579Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M29.4737%204.21053H31.5789V6.31579H29.4737V4.21053Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M29.4737%204.21053V2.10526H25.2632V4.21053H29.4737Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M12.6316%208.42105H10.5263V10.5263H8.42105V12.6316H10.5263V14.7368H12.6316V16.8421H14.7368V18.9474H16.8421V21.0526H14.7368V23.1579H12.6316V25.2632H10.5263V27.3684H8.42105V29.4737H10.5263V31.5789H12.6316V29.4737H14.7368V27.3684H16.8421V25.2632H18.9474V23.1579H21.0526V25.2632H23.1579V27.3684H25.2632V29.4737H27.3684V31.5789H29.4737V29.4737H31.5789V27.3684H29.4737V25.2632H27.3684V23.1579H25.2632V21.0526H23.1579V18.9474H25.2632V16.8421H27.3684V14.7368H29.4737V12.6316H31.5789V10.5263H29.4737V8.42105H27.3684V10.5263H25.2632V12.6316H23.1579V14.7368H21.0526V16.8421H18.9474V14.7368H16.8421V12.6316H14.7368V10.5263H12.6316V8.42105Z'%20fill='%23FAFAFA'/%3e%3c/svg%3e",de=()=>{const r=window.innerWidth<=430,{casting_id:o}=M(),[f,i]=s.useState(!1),[m,g]=s.useState(null),[p,j]=s.useState(!0),[A,h]=s.useState(null),[x,c]=s.useState(null),l=()=>{i(t=>!t)};return s.useEffect(()=>{if(!o){h("Film not found"),j(!1);return}let t=!0;return(async()=>{try{const[d,H]=await D.all([C(o),P(o)]);if(t){g(d.data);const V=H.data,b=URL.createObjectURL(V);c(b)}}catch{t&&h("Failed to fetch film details or poster")}finally{t&&j(!1)}})(),()=>{t=!1}},[o]),p?e.jsx("p",{children:"Loading..."}):m?e.jsxs("div",{className:"detail-header",children:[e.jsx(ee,{}),e.jsx("div",{className:"background-header",style:{background:`linear-gradient(0deg, rgba(0, 0, 0, 0.20) 0%, rgba(0, 0, 0, 0.20) 100%), url(${x})`,backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}}),e.jsxs("div",{className:"detail-header-content",children:[e.jsx("p",{className:"detail-text",children:m.date}),e.jsx("h2",{className:"detail-title",children:m.title})]}),r?e.jsx("div",{className:"menu-mob-wrapper",children:e.jsx("img",{src:se,className:"sidebar-mob-btn",onClick:l,alt:"menuMob-hp"})}):e.jsx("div",{className:"navbar-wrapper",children:e.jsx(te,{})}),f&&e.jsx(ae,{onClose:l,isOpen:f})]}):e.jsx("p",{children:"No details available."})},$=({actor_name:r,bio:o,onApplyClick:f})=>e.jsxs("div",{className:"actor-card-wrapper",children:[e.jsxs("div",{className:"card-title",children:[e.jsx("p",{className:"actor-name",children:r}),e.jsx("p",{className:"actor-bio",children:o})]}),e.jsx(v,{isGlitch:!0,text:"Apply",style:{width:"150px"},onClick:f})," "]});$.propTypes={actor_name:S.string.isRequired,bio:S.string,onApplyClick:S.func.isRequired};const me="/MaximGordiyenko/neofilms-frontend/assets/BG-Details-DrTL41Eo.jpg",he=()=>{const{casting_id:r}=M(),[o,f]=s.useState(!1),[i,m]=s.useState(null),[g,p]=s.useState(!0),[j,A]=s.useState(null);if(s.useEffect(()=>{if(!r){A("Film not found"),p(!1);return}let c=!0;return(async()=>{try{const[t,u]=await D.all([C(r)]);c&&m(t.data)}catch{c&&A("Failed to fetch film details or poster")}finally{c&&p(!1)}})(),()=>{c=!1}},[r]),g)return e.jsx("p",{children:"Loading..."});if(!r)return e.jsx("p",{children:"No details definition available."});const h=c=>{if(!c)return null;const l=new Date(c),t=String(l.getDate()).padStart(2,"0"),u=String(l.getMonth()+1).padStart(2,"0"),d=String(l.getFullYear()).slice(-2);return`${u}.${t}.${d}`},x=(c,l)=>!c&&!l?"N/A":`${h(c)||"N/A"} to ${h(l)||"N/A"}`;return e.jsxs("div",{className:"detail-definition-container",children:[e.jsx("p",{className:"production-info",children:i.additional_info}),e.jsxs("div",{className:"info-box",children:[e.jsxs("div",{className:"details-box",children:[e.jsxs("div",{className:"info-div",children:[e.jsx("h5",{children:"Producer"}),e.jsx("div",{className:"info",children:i.producer})]}),e.jsxs("div",{className:"info-div",children:[e.jsx("h5",{children:"Director"}),e.jsx("div",{className:"info",children:i.director})]}),e.jsxs("div",{className:"info-div",children:[e.jsx("h5",{children:"Writer"}),e.jsx("div",{className:"info",children:i.writer})]}),e.jsxs("div",{className:"info-div",children:[e.jsx("h5",{children:"Casting Director"}),e.jsx("div",{className:"info",children:i.casting_director})]})]}),e.jsxs("div",{className:"data-box",children:[e.jsxs("div",{className:"info-div",children:[e.jsx("h5",{children:"Audition dates"}),e.jsx("div",{className:"info",children:e.jsx("div",{className:"info",children:i.eco_cast_self_tape?"Self-tape":x(i.audition_dates.from,i.audition_dates.to)})})]}),e.jsxs("div",{className:"info-div",children:[e.jsx("h5",{children:"Callback Dates"}),e.jsx("div",{className:"info",children:e.jsx("div",{className:"info",children:x(i.callback_dates.from,i.callback_dates.to)})})]}),e.jsxs("div",{className:"info-div",children:[e.jsx("h5",{children:"Shoot Dates"}),e.jsx("div",{className:"info",children:e.jsx("div",{className:"info",children:x(i.shoot_dates.from,i.shoot_dates.to)})})]}),e.jsxs("div",{className:"info-div",children:[e.jsx("h5",{children:"Deadline"}),e.jsx("div",{className:"info",children:h(i.deadline)||"N/A"})]})]}),e.jsxs("div",{className:"rate-box",children:[e.jsxs("div",{className:"info-div",children:[e.jsx("h5",{children:"Rate of Pay"}),e.jsxs("div",{className:"info",children:["$",i.rate_of_pay_per_day,"/day"]})]}),e.jsxs("div",{className:"info-div",children:[e.jsx("h5",{children:"Location"}),e.jsx("div",{className:"info",children:i.location})]})]})]})]})},ue=({onApplyClick:r})=>{const{casting_id:o}=M(),[f,i]=s.useState(!1),[m,g]=s.useState(null),[p,j]=s.useState(!0),[A,h]=s.useState(null),[x,c]=s.useState(null);if(s.useEffect(()=>{if(!o){h("Film not found"),j(!1);return}let t=!0;return(async()=>{try{const[d,H]=await D.all([C(o),P(o)]);if(t){g(d.data);const V=H.data,b=URL.createObjectURL(V);c(b)}}catch{t&&h("Failed to fetch film details or poster")}finally{t&&j(!1)}})(),()=>{t=!1}},[o]),p)return e.jsx("p",{children:"Loading..."});if(!m)return e.jsx("p",{children:"No details available."});const l=t=>{r(t)};return e.jsxs("div",{className:"detail-body",children:[e.jsx("div",{className:"body-film-def",children:e.jsx(he,{})}),e.jsx("img",{className:"body-bg",src:me,alt:""}),e.jsx("p",{className:"detail-desc",children:m.plot}),e.jsx("div",{className:"cards-wrapper",children:e.jsx("div",{className:"detail-cards",children:m.roles.map((t,u)=>e.jsx($,{index:u,actor_name:t.name,bio:t.description,onApplyClick:()=>l(t.name)},t.id))})})]})},fe="data:image/svg+xml,%3csvg%20width='18'%20height='20'%20viewBox='0%200%2018%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M9%2010L17%201M9%2010L1%201M9%2010L17%2019M9%2010L1%2019'%20stroke='%23FAFAFA'%20stroke-width='2'/%3e%3c/svg%3e",Ce=()=>{const{casting_id:r}=M(),[o,f]=s.useState(!1),[i,m]=s.useState(null),[g,p]=s.useState(null),[j,A]=s.useState(""),[h,x]=s.useState(""),[c,l]=s.useState(!1),[t,u]=s.useState(null),[d,H]=s.useState({userName:"",userEmail:""}),[V,b]=s.useState(""),R=s.useRef(null),k=s.useRef(null),[pe,B]=s.useState(null),[xe,E]=s.useState(!0);s.useEffect(()=>{(async()=>{try{E(!0);const n=await C(r);B(n.data)}catch(n){console.error("Error fetching casting details:",n)}finally{E(!1)}})()},[r]);const[y,G]=s.useState(window.innerWidth<=430);s.useEffect(()=>{const a=()=>{G(window.innerWidth<=430)};return window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a)}},[]);const Z=(a,n)=>{if(!a)return"";const F=a.lastIndexOf(".");if(F===-1||a.length<=n)return a;const Q=a.substring(0,F),X=a.substring(F);return`${Q.substring(0,n)}...${X}`},I=Z(j,10),_=Z(h,10),U=a=>{b(a),f(!0),l(!1)},w=()=>{f(!1),l(!1),u(null),H({userName:"",userEmail:""}),m(null),p(null),A(""),x("")},z=a=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(String(a).toLowerCase()),W=a=>{const n=a.target.files[0];m(n),A(n.name)},T=a=>{const n=a.target.files[0];p(n),x(n.name)},Y=()=>{m(null),A("")},q=()=>{p(null),x("")},L=a=>{const{name:n,value:F}=a.target;H({...d,[n]:F})},J=async a=>{if(a.preventDefault(),u(null),!z(d.userEmail)){u("Please enter a valid email address.");return}const n={name:d.userName,email:d.userEmail,acting_resume:g,role:V};try{const F=await le(r,n);console.log(F.data),f(!1),l(!0)}catch(F){console.error(F),u("An error occurred while submitting the form.")}finally{l(!1)}};if(!r)return e.jsx("div",{children:"Film not found"});const K=e.jsxs("div",{className:"detail-content-box",children:[e.jsxs(N,{className:"detail-modal-title",flexDirection:"row",justifyContent:"center",alignItems:"center",children:[e.jsx("h5",{className:"detail-modal-header",children:"Apply for the role"}),!y&&e.jsx("img",{className:"modal-icon",src:fe,onClick:w,alt:"Close"})]}),e.jsxs("div",{className:"detail-body-box",children:[e.jsxs(N,{justifyContent:"space-between",className:"user-creds",flexDirection:y?"column":"row",children:[e.jsx(O,{label:"Name",placeholder:"Dave?",name:"userName",value:d.userName,onChange:L}),e.jsx(O,{label:"Your Email",placeholder:"dave@gmail.com?",name:"userEmail",value:d.userEmail,onChange:L})]}),e.jsxs(N,{className:"detail-button-box",justifyContent:"space-between",children:[e.jsxs("div",{className:"detail-upload-btn",children:[e.jsxs(N,{flexDirection:"column",children:[e.jsx("p",{className:"modal-text",children:"Headshot"}),i&&e.jsx("p",{className:"modal-file-name",children:I})]}),i?e.jsx(v,{isGlitch:!0,text:"Delete",onClick:Y}):e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"file",ref:R,style:{display:"none"},onChange:W}),e.jsx(v,{isGlitch:!0,text:"Upload",onClick:()=>R.current.click()}),j&&e.jsx("p",{className:"modal-text",children:I})]})]}),e.jsxs(N,{className:"detail-upload-btn",alignItems:"center",justifyContent:"space-between",children:[e.jsxs(N,{flexDirection:"column",children:[e.jsx("p",{className:"modal-text",children:"Acting resume"}),g&&e.jsx("p",{className:"modal-file-name",children:_})]}),g?e.jsx(v,{isGlitch:!0,text:"Delete",onClick:q}):e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"file",ref:k,style:{display:"none"},onChange:T}),e.jsx(v,{isGlitch:!0,text:"Upload",onClick:()=>k.current.click()}),h&&e.jsx("p",{className:"modal-text",children:_})]})]})]}),e.jsxs("div",{className:"detail-form-button-box",children:[e.jsx("img",{className:"modal-form-icon",src:ce,alt:"dots"}),e.jsx("div",{className:"hr-line"}),e.jsx(v,{isGlitch:!0,text:"Apply",onClick:J}),y&&e.jsx("div",{onClick:w,className:"modal-close-button",children:"Cancel"})]}),e.jsxs("div",{className:"modal-images",children:[t&&e.jsxs("div",{className:"submitting-wrong",children:[e.jsx("img",{src:oe,alt:"err-img"}),e.jsx("p",{children:"Oops! Something went wrong... Please try again."})]}),c&&!t&&e.jsxs("div",{className:"success",children:[e.jsx("img",{src:re,alt:"success-img"}),e.jsxs("p",{children:["All done! ",e.jsx("br",{})," Your application was submitted successfully!"]})]})]})]})]});return e.jsxs("div",{className:"details-cast-wrapper",children:[e.jsx(de,{}),e.jsx(ue,{onApplyClick:U}),e.jsx(ne,{className:"cast-content",isOpen:o,onClose:w,title:"Apply for Role",content:K}),e.jsx(ie,{})]})};export{Ce as default};
